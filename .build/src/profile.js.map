{
  "version": 3,
  "sources": ["../../src/profile.js"],
  "sourcesContent": ["url = new URL(window.location.href);\nconst path = url.pathname;\nlet studentData;\nconst log = document.getElementById('log');\nconst nameHeading = document.getElementById('name-heading');\nconst gradeHeading = document.getElementById('grade-heading');\nconst pointsHeading = document.getElementById('points-heading');\nconst eventTable = document.getElementById('event-table');\n\npopulatePage();\n\nasync function getStudentData() {\n  let id = '';\n  for (let i = path.length - 1; i >= 0; i--) {\n    if (path[i]  === '/') {\n      break;\n    }\n    id += path[i];\n  }\n  const response = await fetch(`/api/students/${id}`);\n  if (response.ok) {\n    studentData = await response.json();\n  }\n}\n\nasync function populatePage() {\n  await getStudentData();\n  nameHeading.innerHTML = `${studentData.firstName} ${studentData.lastName}`;\n  gradeHeading.innerHTML = `Grade ${studentData.gradeLevel}`;\n  pointsHeading.innerHTML = `Points: ${studentData.points}`;\n  updateTable();\n}\n\nasync function updateTable() {\n  const eventsAttended = studentData.events;\n  const allEvents = await gatherEventData();\n  const events = [];\n  for (let i = 0; i < eventsAttended.length; i++) {\n    for (let z = 0; z < allEvents.length; z++) {\n      if (eventsAttended[i] === allEvents[z].id) {\n        events.push(allEvents[z]);\n      }\n    }\n  }\n  for (let i = 0; i < events.length; i++) {\n    const newRow = eventTable.insertRow(i + 1);\n    const newName = newRow.insertCell(0);\n    const newPoints = newRow.insertCell(1);\n    const newID = newRow.insertCell(2);\n    newName.innerHTML = events[i].name;\n    newPoints.innerHTML = events[i].points;\n    newID.innerHTML = events[i].id;\n  }\n}\n\nasync function gatherEventData() {\n  let url = '/api/events'\n  try {\n    const eventsResponse =  await fetch(url);\n    return await eventsResponse.json();\n  } catch (error) {\n    console.log(error);\n  }\n}"],
  "mappings": ";AAAA,MAAM,IAAI,IAAI,OAAO,SAAS,IAAI;AAClC,MAAM,OAAO,IAAI;AACjB,IAAI;AACJ,MAAM,MAAM,SAAS,eAAe,KAAK;AACzC,MAAM,cAAc,SAAS,eAAe,cAAc;AAC1D,MAAM,eAAe,SAAS,eAAe,eAAe;AAC5D,MAAM,gBAAgB,SAAS,eAAe,gBAAgB;AAC9D,MAAM,aAAa,SAAS,eAAe,aAAa;AAExD,aAAa;AAEb,eAAe,iBAAiB;AAC9B,MAAI,KAAK;AACT,WAAS,IAAI,KAAK,SAAS,GAAG,KAAK,GAAG,KAAK;AACzC,QAAI,KAAK,OAAQ,KAAK;AACpB;AAAA,IACF;AACA,UAAM,KAAK;AAAA,EACb;AACA,QAAM,WAAW,MAAM,MAAM,iBAAiB,IAAI;AAClD,MAAI,SAAS,IAAI;AACf,kBAAc,MAAM,SAAS,KAAK;AAAA,EACpC;AACF;AAEA,eAAe,eAAe;AAC5B,QAAM,eAAe;AACrB,cAAY,YAAY,GAAG,YAAY,aAAa,YAAY;AAChE,eAAa,YAAY,SAAS,YAAY;AAC9C,gBAAc,YAAY,WAAW,YAAY;AACjD,cAAY;AACd;AAEA,eAAe,cAAc;AAC3B,QAAM,iBAAiB,YAAY;AACnC,QAAM,YAAY,MAAM,gBAAgB;AACxC,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,eAAe,QAAQ,KAAK;AAC9C,aAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,UAAI,eAAe,OAAO,UAAU,GAAG,IAAI;AACzC,eAAO,KAAK,UAAU,EAAE;AAAA,MAC1B;AAAA,IACF;AAAA,EACF;AACA,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,UAAM,SAAS,WAAW,UAAU,IAAI,CAAC;AACzC,UAAM,UAAU,OAAO,WAAW,CAAC;AACnC,UAAM,YAAY,OAAO,WAAW,CAAC;AACrC,UAAM,QAAQ,OAAO,WAAW,CAAC;AACjC,YAAQ,YAAY,OAAO,GAAG;AAC9B,cAAU,YAAY,OAAO,GAAG;AAChC,UAAM,YAAY,OAAO,GAAG;AAAA,EAC9B;AACF;AAEA,eAAe,kBAAkB;AAC/B,MAAIA,OAAM;AACV,MAAI;AACF,UAAM,iBAAkB,MAAM,MAAMA,IAAG;AACvC,WAAO,MAAM,eAAe,KAAK;AAAA,EACnC,SAAS,OAAP;AACA,YAAQ,IAAI,KAAK;AAAA,EACnB;AACF;",
  "names": ["url"]
}
