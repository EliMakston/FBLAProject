{
  "version": 3,
  "sources": ["../../src/students.js"],
  "sourcesContent": ["const studentRoster = document.getElementById('roster');\nconst log = document.getElementById('log');\nconst grade9Check = document.getElementById('grade9');\nconst grade10Check = document.getElementById('grade10');\nconst grade11Check = document.getElementById('grade11');\nconst grade12Check = document.getElementById('grade12');\nlet rowCount = 0;\nlet gradeLevelArray = [9, 10, 11, 12];\nlet currentStudents = [];\nconst gradeLevelHead = document.getElementById('gradeLevelHead');\nlet gradeLevelAsc = false;\n\ngradeLevelHead.addEventListener('click', (event) => {\n  if (!gradeLevelAsc) {\n    filterByGrade('asc');\n    gradeLevelAsc = true;\n  } else {\n    filterByGrade('desc');\n    gradeLevelAsc = false;\n  }\n});\n\ngrade9Check.addEventListener('change', (event) => {\n  updateGradeLevelArray(event, 9);\n});\n\ngrade10Check.addEventListener('change', (event) => {\n  updateGradeLevelArray(event, 10);\n});\n\ngrade11Check.addEventListener('change', (event) => {\n  updateGradeLevelArray(event, 11);\n});\n\ngrade12Check.addEventListener('change', (event) => {\n  updateGradeLevelArray(event, 12);\n});\n\nasync function getStudents(gradeLevel) {\n  let url = '/api/students'\n  if (gradeLevel) {\n    url += `?gradeLevel=${gradeLevel}`;\n  }\n  try {\n    const studentResponse =  await fetch(url);\n    return await studentResponse.json();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function updateTable() {\n  let students;\n  if (currentStudents.length === 0) {\n    students = await gatherStudentData();\n  } else {\n    students = currentStudents;\n  }\n  for (let i = 0; i < rowCount; i++) {\n    deleteRow(1);\n  }\n  rowCount = 0;\n  for (let i = 0; i < students.length; i++) {\n    const newRow = studentRoster.insertRow(i + 1);\n    const newFirst = newRow.insertCell(0);\n    const newLast = newRow.insertCell(1);\n    const newGrade = newRow.insertCell(2);\n    const newPoints = newRow.insertCell(3);\n    const newID = newRow.insertCell(4);\n    newFirst.innerHTML = students[i].firstName;\n    newLast.innerHTML = students[i].lastName;\n    newGrade.innerHTML = students[i].gradeLevel;\n    newPoints.innerHTML = students[i].points;\n    newID.innerHTML = students[i].id;\n    rowCount++;\n  }\n  currentStudents = students;\n}\n\nasync function deleteRow(rowIndex) {\n  studentRoster.deleteRow(rowIndex);\n}\n\nasync function gatherStudentData() {\n  const students = [];\n  for (let i = 0; i < gradeLevelArray.length; i++) {\n    const temp = await getStudents(gradeLevelArray[i]);\n    for (let z = 0; z < temp.length; z++) {\n      students.push(temp[z]);\n    }\n  }\n  return students;\n}\n\nupdateTable();\n\nfunction updateGradeLevelArray(event, gradeNumber) {\n  currentStudents = [];\n  if (event.target.checked) {\n    gradeLevelArray.push(gradeNumber);\n    updateTable();\n  } else {\n    const index = gradeLevelArray.indexOf(gradeNumber);\n    if (index > -1) { // only splice array when item is found\n      gradeLevelArray.splice(index, 1); // 2nd parameter means remove one item only\n    }\n    updateTable();\n  }\n}\n\nfunction filterByGrade(order) {\n  const temp = [];\n  for (let i = 0; i < currentStudents.length; i++) {\n    temp.push(currentStudents[i]);\n  }\n  const returnList = [];\n  let currentGrade;\n  if (order === 'asc') {\n    currentGrade = 9;\n  } else if (order === 'desc') {\n    currentGrade = 12;\n  }\n  for (let i = 0; i < temp.length; i++) {\n    if (temp[i].gradeLevel * 1 === currentGrade) {\n      returnList.push(temp[i]);\n      temp.splice(i, 1);\n      i = i-1\n    }\n    if (i + 1 >= temp.length) {\n      if (order === 'asc') {\n        if (currentGrade <= 12) {\n          i = -1;\n        }\n        currentGrade++;\n      } else if (order === 'desc') {\n        if (currentGrade >= 9) {\n          i = -1;\n        currentGrade--;\n        }\n      }\n    }\n  }\n  currentStudents = returnList;\n  updateTable();\n  for (let i = 0; i < temp.length; i++) {\n    if (temp[i].gradeLevel * 1 === currentGrade) {\n      returnList.push(temp[i]);\n      temp.splice(i, 1);\n      i = i-1\n    }\n  }\n}\n\nupdateTable();"],
  "mappings": "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",
  "names": []
}
